@model HotBug.Models.ViewModels.DashboardViewModel
@using Microsoft.EntityFrameworkCore;
@using Microsoft.AspNetCore.Identity
@using HotBug.Models.Enums;
@using HotBug.Services;
@using HotBug.Services.Interfaces;


@inject UserManager<HBUser> UserManager
@inject IHBRolesService RoleService
@inject IHBProjectService ProjectService
@inject IHBTicketService TicketService
@inject IHBTicketHistoryService HistoryService

@{
    ViewData["Title"] = "Dashboard";
    @* Instantiate the hBUser & projectManager *@
    HBUser hBUser = await UserManager.GetUserAsync(User);
}

<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="Description" content="Bootstrap Responsive Admin Web Dashboard HTML5 Template">
    <meta name="Author" content="Spruko Technologies Private Limited">
    <meta name="Keywords" content="admin,admin dashboard,admin dashboard template,admin panel template,admin template,admin theme,bootstrap 4 admin template,bootstrap 4 dashboard,bootstrap admin,bootstrap admin dashboard,bootstrap admin panel,bootstrap admin template,bootstrap admin theme,bootstrap dashboard,bootstrap form template,bootstrap panel,bootstrap ui kit,dashboard bootstrap 4,dashboard design,dashboard html,dashboard template,dashboard ui kit,envato templates,flat ui,html,html and css templates,html dashboard template,html5,jquery html,premium,premium quality,sidebar bootstrap 4,template admin bootstrap 4">

    <!-- Title -->
    <title> Hotbug Issue Tracker</title>
    <!-- CSS -->
    <link href="~/css/site.css" rel="stylesheet">
    <!-- Bootstrap css -->
    <link id="style" href="../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="main-body app sidebar-mini ltr">
    <div class="overflow-hidden">
        <!-- Page -->
        <div class="custom-index mt-5">
            <!-- CURRENT PROJECTS COLOR CARD-->
            <div class="row row-sm">
                <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
                    <div class="card overflow-hidden sales-card bg-primary-gradient">
                        <div class="px-3 pt-3  pb-2 pt-0">
                            <div class="">
                                <h6 class="mb-3 tx-16 text-white">@Model.Company!.Name PROJECTS</h6>
                            </div>
                            <div class="pb-0 mt-0">
                                <div class="d-flex">
                                    <a asp-action="AllProjects" asp-controller="Projects" style="text-decoration:none">
                                        <span class="float-end my-auto ms-auto">
                                            <i class="fas fa-arrow-circle-up text-white"></i>
                                            <h4 class="tx-20 fw-bold mb-1 text-white">@Model.Projects!.Count()</h4>
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--ALL TICKETS COLOR CARD-->
                <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
                    <div class="card overflow-hidden sales-card bg-purple-gradient">
                        <div class="px-3 pt-3  pb-2 pt-0">
                            <div class="">
                                <h6 class="mb-3 tx-16 text-white">ALL TICKETS</h6>
                            </div>
                            <div class="pb-0 mt-0">
                                <div class="d-flex">
                                    <a asp-action="AllTickets" asp-controller="Tickets">
                                        <span class="float-end my-auto ms-auto">
                                            <h4 class="tx-20 fw-bold mb-1 text-white">@Model.Tickets!.Count()</h4>
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--UNASSIGNED TICKETS COLOR CARD-->
                <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
                    <div class="card overflow-hidden sales-card bg-secondary-gradient">
                        <div class="px-3 pt-3  pb-2 pt-0">
                            <div class="">
                                <h6 class="mb-3 tx-16 text-white">UNASSIGNED TICKETS</h6>
                            </div>
                            <div class="pb-0 mt-0">
                                <div class="d-flex">
                                    <a asp-action="UnassignedTickets" asp-controller="Tickets">
                                        <span class="float-end my-auto ms-auto">
                                            <i class="fas fa-arrow-circle-up text-white"></i>
                                            <h4 class="tx-20 fw-bold mb-1 text-white">@Model.Tickets!.Where(t=> string.IsNullOrEmpty(t.DeveloperUserId)).Count()</h4>
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--TOTAL DATA COLOR CARD-->
                <div class="col-xl-3 col-lg-6 col-md-6 col-xm-12">
                    <div class="card overflow-hidden sales-card bg-secondary-gradient">
                        <div class="px-3 pt-3  pb-2 pt-0">
                            <div class="">
                                <h6 class="mb-3 tx-16 text-white">TOTAL DATA</h6>
                            </div>
                            <div class="pb-0 mt-0">
                                <div class="d-flex">
                                    <a asp-action="UnassignedTickets" asp-controller="Tickets">
                                        <span class="float-end my-auto ms-auto">
                                            <i class="fas fa-arrow-circle-up text-white"></i>
                                            <h4 class="tx-20 fw-bold mb-1 text-white">
                                                @(Model.Projects!.Count()
                                                    + Model.Tickets!.Count()
                                                    + Model.Members!.Count()
                                                    )
                                            </h4>
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row row-sm">

                <!--SNAPSHOT CARD-->
                <div class="col-md-12 col-lg-12 col-xl-3">
                    <div class="card">
                        <div class="card-header bg-transparent pd-b-0 pd-t-20 bd-b-0">
                            <div class="d-flex justify-content-between">
                                <h4 class="card-title mb-0">Snapshot</h4>

                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-3">
                                    <div class="hstack">

                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-people-fill mt-1 px-1 bg-info-gradient border rounded" viewBox="0 0 16 16">
                                            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" />
                                        </svg>
                                        <i class="ti-pie-chart bg-primary-gradient text-white product-icon"></i>
                                    </div>
                                </div>
                                <div class="col-9">
                                    <h6>Total Users</h6>
                                    <h4 class="">@Model.Members.Count()</h4>
                                </div>
                                <div class="col-12">
                                    <hr class="border border-dark w-100">
                                </div>
                            </div>
                            <div class="row mt-1">
                                <div class="col-3">
                                    <div class="hstack">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-ticket-fill mt-1 px-1 bg-purple-gradient border rounded" viewBox="0 0 16 16">
                                            <path d="M1.5 3A1.5 1.5 0 0 0 0 4.5V6a.5.5 0 0 0 .5.5 1.5 1.5 0 1 1 0 3 .5.5 0 0 0-.5.5v1.5A1.5 1.5 0 0 0 1.5 13h13a1.5 1.5 0 0 0 1.5-1.5V10a.5.5 0 0 0-.5-.5 1.5 1.5 0 0 1 0-3A.5.5 0 0 0 16 6V4.5A1.5 1.5 0 0 0 14.5 3h-13Z" />
                                        </svg>
                                    </div>
                                </div>
                                <div class="col-9">
                                    <h6>Tickets in Development</h6>
                                    <h4 class="">@Model.Tickets!.Count()</h4>
                                </div>
                                <div class="col-12">
                                    <hr class="border border-dark w-100">
                                </div>
                            </div>
                            <div class="row mt-1">
                                <div class="col-3">
                                    <div class="hstack">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-person-fill mt-1 bg-primary-gradient border rounded" viewBox="0 0 16 16">
                                            <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                                        </svg>
                                    </div>
                                </div>
                                <div class="col-9">
                                    <h6>Total Developers</h6>
                                    <h4 class="">4</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--TICKET COUNT CARD-->
                <div class="col-md-12 col-lg-12 col-xl-3">
                    <div class="card">
                        <div class="card-header bg-transparent pd-b-0 pd-t-20 bd-b-0">
                            <div class="card-body">
                                <h5>Project Tickets Count</h5>
                                <p>Ticket Status %</p>
                                <div id="donut"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--PROJECT PRIORITY CARD-->
                <div class="col-md-12 col-lg-12 col-xl-3">
                    <div class="card">
                        <div class="card-header bg-transparent pd-b-0 pd-t-20 bd-b-0">
                            <div class="card-body">
                                <h5>Projects by Priority</h5>
                                <p>Priority End Date</p>
                                <div id="chart3D"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--TICKET PRIORITY CARD-->
                <div class="col-md-12 col-lg-12 col-xl-3">
                    <div class="card">
                        <div class="card-header bg-transparent pd-b-0 pd-t-20 bd-b-0">
                            <div class="d-flex justify-content-between">
                                <h5 class="mb-4 card-title">Tickets by Priority</h5>
                            </div>
                            <p class="mb-4">Tickets sorted by their status</p>
                            <div>
                                <div class="row mb-4">
                                    <div class="col-8">
                                        <h5 class="text-start">Low</h5>
                                    </div>
                                    <div class="col-4 d-flex justify-content-end">
                                        <a asp-action="AllTickets" asp-controller="Tickets">
                                            <h5>@Model.Tickets.Where(t=>t.TicketPriority.Name == nameof(HBTicketPriority.Low)).Count()</h5>
                                        </a>
                                    </div>
                                </div>

                                <div class="row mb-4">
                                    <div class="col-8">
                                        <h5 class="text-start">Medium</h5>
                                    </div>
                                    <div class="col-4 d-flex justify-content-end">
                                        <a asp-action="AllTickets" asp-controller="Tickets">
                                            <h5>@Model.Tickets.Where(t=>t.TicketPriority.Name == nameof(HBTicketPriority.Medium)).Count()</h5>
                                        </a>
                                    </div>
                                </div>

                                <div class="row mb-4">
                                    <div class="col-8">
                                        <i class="ti-pie-chart bg-primary-gradient text-white product-icon"></i>
                                        <h5 class="text-start">High</h5>
                                    </div>
                                    <div class="col-4 d-flex justify-content-end">
                                        <a asp-action="AllTickets" asp-controller="Tickets">
                                            <h5>@Model.Tickets.Where(t=>t.TicketPriority.Name == nameof(HBTicketPriority.High)).Count()</h5>
                                        </a>
                                    </div>

                                </div>
                                <div class="row mb-4 pb-1">
                                    <div class="col-8">
                                        <h5 class="text-start">Urgent</h5>
                                    </div>
                                    <div class="col-4 d-flex justify-content-end">
                                        <a asp-action="AllTickets" asp-controller="Tickets">
                                            <h5>@Model.Tickets.Where(t=>t.TicketPriority.Name == nameof(HBTicketPriority.Urgent)).Count()</h5>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NEW ROW -->
                <!--MEMBERS CARD-->
                <div class="col-xl-7 col-md-12 col-lg-12">
                    <div class="card card-table-two">
                        <div class="row mb-2">
                            <div class=" card-header p-0 d-flex justify-content-between">
                                <div class="col-10">
                                    <h4 class="card-title mb-1"><a asp-action="Dashboard" asp-controller="Home" style="text-decoration:none">Members</a></h4>
                                    <span class="tx-12 tx-muted mb-3 ">@Model.Company!.Name Team Members</span>
                                </div>
                                <div class="col-2 text-end">
                                    <a asp-action="Dashboard" asp-controller="Home" style="text-decoration:none">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-people-fill mb-1 px-1 bg-secondary-gradient border rounded " viewBox="0 0 16 16">
                                            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive country-table">
                            <table class="table table-striped table-bordered mb-0 text-sm-nowrap text-lg-nowrap text-xl-nowrap">
                                <thead>
                                    <tr>
                                        <th class="wd-lg-25p">Name</th>
                                        <th class="wd-lg-25p tx-right">Contact</th>
                                        <th class="wd-lg-25p tx-right">Projects</th>
                                    </tr>
                                </thead>

                                @foreach (HBUser member in Model.Members)
                                {

                                    <tbody>
                                        <tr>
                                            <td>@member.FullName</td>
                                            <td class="tx-right tx-medium tx-inverse">@member.Email</td>
                                            <td class="tx-right tx-medium tx-inverse">@Model.Projects!.Count()</td>
                                        </tr>

                                    </tbody>
                                }
                            </table>
                        </div>
                    </div>
                </div>
                <!--PROJECTS CARD -->
                <div class="col-xl-5 col-md-12 col-lg-12">
                    <div class="card">
                        <div class="card-header pb-1 mb-4">
                            <div class="row">
                                <div class=col-10>
                                    <h3 class="card-title mb-2"><a asp-action="AllProjects" asp-controller="Projects" style="text-decoration:none">Projects List</a></h3>
                                    <p class="tx-12 mb-0 text-muted">Available Projects listed for each User</p>
                                </div>
                                <div class="col-2 text-end">
                                    <a asp-action="AllProjects" asp-controller="Projects" style="text-decoration:none">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-card-checklist px-1 bg-secondary-gradient border rounded" viewBox="0 0 16 16">
                                            <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                                            <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                        @foreach (Project project in Model.Projects)
                        {
                            <div class="product-timeline card-body pt-2 mt-1">
                                <ul class="timeline-1 mb-0">
                                    <li class="mt-0 mrg-8">
                                        <i class="ti-pie-chart bg-primary-gradient text-white product-icon"></i> <span class="fw-semibold mb-4 pt-3 tx-14 ">@project.Name</span>
                                        <a href="javascript:void(0);" class="float-end tx-11 text-muted"></a>
                                        <p class="mb-0 text-muted tx-12"></p>
                                    </li>
                                </ul>
                            </div>
                        }
                    </div>
                </div>

            </div>

        </div>

        <!-- NEW ROW -->
        <!-- TICKETS CARD -->

        <div class="row row-sm">
            <div class="col-md-12 col-lg-12 col-xl-12">
                <div class="card card-table-two">
                    <div class=" card-header p-0">
                        <div class="row mb-4">
                            <div class="col-10">
                                <h4 class="card-title mb-1"><a asp-action="AllTickets" asp-controller="Tickets">Recent Tickets</a></h4>
                                <span class="tx-12 tx-muted mb-3 ">Current Tickets in Development</span>
                            </div>
                            <div class="col-2 text-end">
                                <a asp-action="Create" asp-controller="Tickets" class="btn btn-md w-sm font-weight-bold btn-primary" target="_blank">
                                    New Ticket
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive country-table">
                        <table class="table table-striped table-bordered mb-0 text-sm-nowrap text-lg-nowrap text-xl-nowrap">
                            <thead>
                                <tr>
                                    <th class="wd-lg-25p">Ticket Name</th>
                                    <th class="md-lg-25p tx-right">Description</th>
                                    <th class="wd-lg-25p tx-right">Ticket Status</th>
                                    <th class="wd-lg-25p tx-right">Ticket Priority</th>
                                    <th class="wd-lg-25p tx-right">Create Date</th>
                                    <th class="wd-lg-25p tx-right">Action</th>
                                </tr>
                            </thead>

                            @foreach (var ticket in Model.Tickets.OrderByDescending(d => d.Created))
                            {

                                <tbody>
                                    <tr>
                                        <!--TITLE-->
                                        <td><a asp-action="Details" asp-controller="Tickets" asp-route-id="@ticket.Id">@ticket.Title</a></td>

                                        <!--DETAILS-->
                                        <td class="tx-right tx-medium tx-inverse">
                                            @ticket.Description
                                        </td>

                                        <!--TICKET STATUS-->
                                        @if (ticket.TicketStatus.Name == "New")
                                        {
                                            <td class="tx-right tx-medium tx-inverse">
                                                @ticket.TicketStatus.Name
                                            </td>
                                        }
                                        else
                                        {
                                            <td><span>@ticket.TicketStatus.Name</span></td>
                                        }

                                        <!--TICKET PRIORITY-->
                                        <td class="tx-right tx-medium tx-danger">@ticket.TicketPriority.Name</td>

                                        <!--CREATE DATE-->
                                        <td class="tx-right tx-medium">@ticket.Created.ToString("MM-dd-yyyy")</td>

                                        <!--ACTION-->
                                        <td>
                                            <a class="" asp-action="Details" asp-controller="Tickets" asp-route-id="@ticket.Id">
                                                Details
                                            </a>
                                            @*@if(ticket.DeveloperUserId == hBUser.Id || ticket.OwnerUserId == hBUser.Id || (projectManager?.Id == hBUser.Id) || User.IsInRole(nameof(Roles.Admin)))
                                        {
                                        <a class="btn btn-outline-secondary" asp-action="Edit" asp-controller="Tickets" asp-route-id="@ticket.Id"><i class="fs-5 bi-pencil"></i>Edit</a>
                                        }*@

                                        </td>
                                    </tr>
                                </tbody>

                            }

                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Sidebar-right-->
    <div class="sidebar sidebar-right sidebar-animate">
        <div class="panel panel-primary card mb-0 box-shadow">
            <div class="tab-menu-heading border-0 p-3">
                <div class="card-title mb-0">Notifications</div>
                <div class="card-options ms-auto">
                    <a href="javascript:void(0);" class="sidebar-remove"><i class="fe fe-x"></i></a>
                </div>
            </div>
            <div class="panel-body tabs-menu-body latest-tasks p-0 border-0">
                <div class="tabs-menu ">
                    <!-- Tabs -->
                    <ul class="nav panel-tabs">
                        <li class=""><a href="#side1" class="active" data-bs-toggle="tab"><i class="fe fe-message-circle tx-15 me-2"></i> Chat</a></li>
                        <li><a href="#side2" data-bs-toggle="tab"><i class="fe fe-bell tx-15 me-2"></i> Notifications</a></li>
                        <li><a href="#side3" data-bs-toggle="tab"><i class="fe fe-users tx-15 me-2"></i> Friends</a></li>
                    </ul>
                </div>
                <div class="tab-content">
                    <div class="tab-pane active " id="side1">
                        <div class="list d-flex align-items-center border-bottom p-3">
                            <div class="">
                                <span class="avatar bg-primary brround avatar-md">CH</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>New Websites is Created</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">30 mins ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="list d-flex align-items-center border-bottom p-3">
                            <div class="">
                                <span class="avatar bg-danger brround avatar-md">N</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>Prepare For the Next Project</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">2 hours ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="list d-flex align-items-center border-bottom p-3">
                            <div class="">
                                <span class="avatar bg-info brround avatar-md">S</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>Decide the live Discussion</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">3 hours ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="list d-flex align-items-center border-bottom p-3">
                            <div class="">
                                <span class="avatar bg-warning brround avatar-md">K</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>Meeting at 3:00 pm</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">4 hours ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="list d-flex align-items-center border-bottom p-3">
                            <div class="">
                                <span class="avatar bg-success brround avatar-md">R</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>Prepare for Presentation</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">1 day ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="list d-flex align-items-center border-bottom p-3">
                            <div class="">
                                <span class="avatar bg-pink brround avatar-md">MS</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>Prepare for Presentation</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">1 day ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="list d-flex align-items-center border-bottom p-3">
                            <div class="">
                                <span class="avatar bg-purple brround avatar-md">L</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>Prepare for Presentation</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">45 minutes ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="list d-flex align-items-center p-3">
                            <div class="">
                                <span class="avatar bg-blue brround avatar-md">U</span>
                            </div>
                            <a class="wrapper w-100 ms-3" href="javascript:void(0);">
                                <p class="mb-0 d-flex ">
                                    <b>Prepare for Presentation</b>
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <i class="mdi mdi-clock text-muted me-1"></i>
                                        <small class="text-muted ms-auto">2 days ago</small>
                                        <p class="mb-0"></p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="tab-pane  " id="side2">
                        <div class="list-group list-group-flush ">
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-lg brround cover-image" data-bs-image-src="../assets/img/users/12.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-3">
                                    <strong>Madeleine</strong> Hey! there I' am available....
                                    <div class="small text-muted">
                                        3 hours ago
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-lg brround cover-image" data-bs-image-src="../assets/img/users/1.jpg"></span>
                                </div>
                                <div class="ms-3">
                                    <strong>Anthony</strong> New product Launching...
                                    <div class="small text-muted">
                                        5 hour ago
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-lg brround cover-image" data-bs-image-src="../assets/img/users/2.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-3">
                                    <strong>Olivia</strong> New Schedule Realease......
                                    <div class="small text-muted">
                                        45 minutes ago
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-lg brround cover-image" data-bs-image-src="../assets/img/users/8.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-3">
                                    <strong>Madeleine</strong> Hey! there I' am available....
                                    <div class="small text-muted">
                                        3 hours ago
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-lg brround cover-image" data-bs-image-src="../assets/img/users/11.jpg"></span>
                                </div>
                                <div class="ms-3">
                                    <strong>Anthony</strong> New product Launching...
                                    <div class="small text-muted">
                                        5 hour ago
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-lg brround cover-image" data-bs-image-src="../assets/img/users/6.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-3">
                                    <strong>Olivia</strong> New Schedule Realease......
                                    <div class="small text-muted">
                                        45 minutes ago
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-lg brround cover-image" data-bs-image-src="../assets/img/users/9.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-3">
                                    <strong>Olivia</strong> Hey! there I' am available....
                                    <div class="small text-muted">
                                        12 minutes ago
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane  " id="side3">
                        <div class="list-group list-group-flush ">
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/9.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Mozelle Belt</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/11.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Florinda Carasco</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/10.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Alina Bernier</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/2.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Zula Mclaughin</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/13.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Isidro Heide</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/12.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Mozelle Belt</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/4.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Florinda Carasco</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/7.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Alina Bernier</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/2.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Zula Mclaughin</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/14.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Isidro Heide</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/11.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Florinda Carasco</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/9.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Alina Bernier</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/15.jpg"><span class="avatar-status bg-success"></span></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Zula Mclaughin</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                            <div class="list-group-item d-flex  align-items-center">
                                <div>
                                    <span class="avatar avatar-md brround cover-image" data-bs-image-src="../assets/img/users/4.jpg"></span>
                                </div>
                                <div class="ms-2">
                                    <div class="fw-semibold" data-bs-toggle="modal" data-bs-target="#chatmodel">Isidro Heide</div>
                                </div>
                                <div class="ms-auto">
                                    <a href="javascript:void(0);" class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#chatmodel"><i class="fab fa-facebook-messenger"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--/Sidebar-right-->
    <!-- Message Modal -->
    <div class="modal fade" id="chatmodel" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-right chatbox" role="document">
            <div class="modal-content chat border-0">
                <div class="card overflow-hidden mb-0 border-0">
                    <!-- action-header -->
                    <div class="action-header clearfix">
                        <div class="float-start hidden-xs d-flex ms-2">
                            <div class="img_cont me-3">
                                <img src="../assets/img/users/6.jpg" class="rounded-circle user_img" alt="img">
                            </div>
                            <div class="align-items-center mt-2">
                                <h4 class="text-white mb-0 fw-semibold">Daneil Scott</h4>
                                <span class="dot-label bg-success"></span><span class="me-3 text-white">online</span>
                            </div>
                        </div>
                        <ul class="ah-actions actions align-items-center">
                            <li class="call-icon">
                                <a href="" class="d-done d-md-block phone-button" data-bs-toggle="modal" data-bs-target="#audiomodal">
                                    <i class="si si-phone"></i>
                                </a>
                            </li>
                            <li class="video-icon">
                                <a href="" class="d-done d-md-block phone-button" data-bs-toggle="modal" data-bs-target="#videomodal">
                                    <i class="si si-camrecorder"></i>
                                </a>
                            </li>
                            <li class="dropdown">
                                <a href="" data-bs-toggle="dropdown" aria-expanded="true">
                                    <i class="si si-options-vertical"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li><i class="fa fa-user-circle"></i> View profile</li>
                                    <li><i class="fa fa-users"></i>Add friends</li>
                                    <li><i class="fa fa-plus"></i> Add to group</li>
                                    <li><i class="fa fa-ban"></i> Block</li>
                                </ul>
                            </li>
                            <li>
                                <a href="" class="" data-bs-dismiss="modal" aria-label="Close">
                                    <i class="si si-close text-white"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <!-- action-header end -->
                    <!-- msg_card_body -->
                    <div class="card-body msg_card_body">
                        <div class="chat-box-single-line">
                            <abbr class="timestamp">February 1st, 2019</abbr>
                        </div>
                        <div class="d-flex justify-content-start">
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/6.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                            <div class="msg_cotainer">
                                Hi, how are you Jenna Side?
                                <span class="msg_time">8:40 AM, Today</span>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end ">
                            <div class="msg_cotainer_send">
                                Hi Connor Paige i am good tnx how about you?
                                <span class="msg_time_send">8:55 AM, Today</span>
                            </div>
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/9.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                        </div>
                        <div class="d-flex justify-content-start ">
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/6.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                            <div class="msg_cotainer">
                                I am good too, thank you for your chat template
                                <span class="msg_time">9:00 AM, Today</span>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end ">
                            <div class="msg_cotainer_send">
                                You welcome Connor Paige
                                <span class="msg_time_send">9:05 AM, Today</span>
                            </div>
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/9.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                        </div>
                        <div class="d-flex justify-content-start ">
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/6.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                            <div class="msg_cotainer">
                                Yo, Can you update Views?
                                <span class="msg_time">9:07 AM, Today</span>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end mb-4">
                            <div class="msg_cotainer_send">
                                But I must explain to you how all this mistaken  born and I will give
                                <span class="msg_time_send">9:10 AM, Today</span>
                            </div>
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/9.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                        </div>
                        <div class="d-flex justify-content-start ">
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/6.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                            <div class="msg_cotainer">
                                Yo, Can you update Views?
                                <span class="msg_time">9:07 AM, Today</span>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end mb-4">
                            <div class="msg_cotainer_send">
                                But I must explain to you how all this mistaken  born and I will give
                                <span class="msg_time_send">9:10 AM, Today</span>
                            </div>
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/9.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                        </div>
                        <div class="d-flex justify-content-start ">
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/6.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                            <div class="msg_cotainer">
                                Yo, Can you update Views?
                                <span class="msg_time">9:07 AM, Today</span>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end mb-4">
                            <div class="msg_cotainer_send">
                                But I must explain to you how all this mistaken  born and I will give
                                <span class="msg_time_send">9:10 AM, Today</span>
                            </div>
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/9.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                        </div>
                        <div class="d-flex justify-content-start">
                            <div class="img_cont_msg">
                                <img src="../assets/img/users/6.jpg" class="rounded-circle user_img_msg" alt="img">
                            </div>
                            <div class="msg_cotainer">
                                Okay Bye, text you later..
                                <span class="msg_time">9:12 AM, Today</span>
                            </div>
                        </div>
                    </div>
                    <!-- msg_card_body end -->
                    <!-- card-footer -->
                    <div class="card-footer">
                        <div class="msb-reply d-flex">
                            <div class="input-group">
                                <input type="text" class="form-control " placeholder="Typing....">
                                <div class="input-group-text bg-transparent border-0 p-0">
                                    <button type="button" class="btn btn-primary ">
                                        <i class="far fa-paper-plane" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div><!-- card-footer end -->
                </div>
            </div>
        </div>
    </div>


    <!-- End Page -->
    <!-- Back-to-top -->
    <a href="#top" id="back-to-top"><i class="las la-angle-double-up"></i></a>

    <!-- JQuery min js -->
    <script src="../assets/plugins/jquery/jquery.min.js"></script>

    <!-- Bootstrap Bundle js -->
    <script src="../assets/plugins/bootstrap/js/popper.min.js"></script>
    <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>

    <!--Internal  Chart.bundle js -->
    <script src="../assets/plugins/chart.js/Chart.bundle.min.js"></script>

    <!-- Moment js -->
    <script src="../assets/plugins/moment/moment.js"></script>

    <!--Internal Sparkline js -->
    <script src="../assets/plugins/jquery-sparkline/jquery.sparkline.min.js"></script>

    <!-- Moment js -->
    <script src="../assets/plugins/raphael/raphael.min.js"></script>

    <!--Internal Apexchart js-->
    <script src="../assets/js/apexcharts.js"></script>

    <!--Internal  Perfect-scrollbar js -->
    <script src="../assets/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="../assets/plugins/perfect-scrollbar/p-scroll.js"></script>

    <!-- Eva-icons js -->
    <script src="../assets/js/eva-icons.min.js"></script>

    <!-- right-sidebar js -->
    <script src="../assets/plugins/sidebar/sidebar.js"></script>
    <script src="../assets/plugins/sidebar/sidebar-custom.js"></script>

    <!-- Sticky js -->
    <script src="../assets/js/sticky.js"></script>
    <script src="../assets/js/modal-popup.js"></script>

    <!-- Left-menu js-->
    <script src="../assets/plugins/side-menu/sidemenu.js"></script>

    <!-- Internal Map -->
    <script src="../assets/plugins/jqvmap/jquery.vmap.min.js"></script>
    <script src="../assets/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>

    <!--Internal  index js -->
    <script src="../assets/js/index.js"></script>

    <!--themecolor js-->
    <script src="../assets/js/themecolor.js"></script>

    <!-- Apexchart js-->
    <script src="../assets/js/apexcharts.js"></script>
    <script src="../assets/js/jquery.vmap.sampledata.js"></script>

    <!-- custom js -->
    <script src="../assets/js/custom.js"></script>

    <!-- switcher-styles js -->
    <script src="../assets/js/swither-styles.js"></script>
    <!--Google Charts-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>

    <script type="text/javascript">
        google.load("visualization", "1", { packages: ["corechart"] });
        google.setOnLoadCallback(drawChart);
        function drawChart() {
            $.ajax({
                type: "POST",
                url: "/Home/GglProjectPriority",
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (result) {
                    var data = google.visualization.arrayToDataTable(result);

                    //3D Pie
                    var options = {
                        title: 'Project Priority',
                        is3D: true,
                        chartArea: { left: 0, bottom: 15, width: '100%', height: '100%' },
                        legend: { position: 'bottom' }

                    };

                    var chart = new google.visualization.PieChart($("#chart3D")[0]);
                    chart.draw(data, options);
                },
                failure: function (rresult) {
                    alert(result.d);
                },
                error: function (result) {
                    alert(result.d);
                }
            });
        }
    </script>

    <script type="text/javascript">
        google.load("visualization", "1", { packages: ["corechart"] });
        google.setOnLoadCallback(drawChart);
        function drawChart() {
            $.ajax({
                type: "POST",
                url: "/Home/GglProjectPriority",
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (result) {
                    var data = google.visualization.arrayToDataTable(result);

                    //Donut
                    var options = {
                        title: 'Company Ticket Distribution',
                        pieHole: 0.3,
                        chartArea: { left: 0, bottom: 15, width: '100%', height: '100%' },
                        legend: { position: 'bottom' }
                    };
                    var chart = new google.visualization.PieChart($("#donut")[0]);
                    chart.draw(data, options);
                },
                failure: function (rresult) {
                    alert(result.d);
                },
                error: function (result) {
                    alert(result.d);
                }
            });
        }
    </script>

    <!-- Chart code -->
    <script>
        $.ajax({
            type: "POST",
            url: "/Home/AmCharts",
            data: '{}',
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (result) {
                am4core.ready(function () {

                    // Themes begin
                    // Themes end

                    // Create chart instance
                    var chart = am4core.create("chartdiv", am4charts.XYChart);


                    // Add data
                    chart.data = result;

                    // Create axes
                    var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());
                    categoryAxis.dataFields.category = "project";
                    categoryAxis.numberFormatter.numberFormat = "#";
                    categoryAxis.renderer.inversed = true;
                    categoryAxis.renderer.grid.template.location = 0;
                    categoryAxis.renderer.cellStartLocation = 0.1;
                    categoryAxis.renderer.cellEndLocation = 0.9;

                    var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());
                    valueAxis.renderer.opposite = true;

                    // Create series
                    function createSeries(field, name) {
                        var series = chart.series.push(new am4charts.ColumnSeries());
                        series.dataFields.valueX = field;
                        series.dataFields.categoryY = "project";
                        series.name = name;
                        series.columns.template.tooltipText = "{name}: [bold]{valueX}[/]";
                        series.columns.template.height = am4core.percent(100);
                        series.sequencedInterpolation = true;

                        var valueLabel = series.bullets.push(new am4charts.LabelBullet());
                        valueLabel.label.text = "{valueX}";
                        valueLabel.label.horizontalCenter = "left";
                        valueLabel.label.dx = 10;
                        valueLabel.label.hideOversized = false;
                        valueLabel.label.truncate = false;

                        var categoryLabel = series.bullets.push(new am4charts.LabelBullet());
                        categoryLabel.label.text = "{name}";
                        categoryLabel.label.horizontalCenter = "right";
                        categoryLabel.label.dx = -10;
                        categoryLabel.label.fill = am4core.color("#fff");
                        categoryLabel.label.hideOversized = false;
                        categoryLabel.label.truncate = false;
                    }

                    createSeries("tickets", "Tickets");
                    createSeries("developers", "Devs");

                }); // end am4core.ready()


            },
            failure: function (result) {
                alert(result.d);
            },
            error: function (result) {
                alert(result.d);
            }
        });
    </script>
    </div>
</body>
</html>
